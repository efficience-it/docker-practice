questions:
  - uuid: 4a7e2f3b-81d3-4fcf-b3d7-4cfe6b8f0421
    question: Quelle commande permet d'afficher les couches d'une image Docker sous forme lisible ?
    answers:
      - { value: "docker history nginx", correct: true }
      - { value: "docker image ls nginx", correct: false }
      - { value: "docker inspect nginx", correct: false }
      - { value: "docker layers nginx", correct: false }
    help: https://docs.docker.com/engine/reference/commandline/history/

  - uuid: 1dcb4a0f-1a58-4b25-9469-7c4c91480f9f
    question: Quelle option de 'docker history' permet d’afficher la taille cumulative des couches ?
    answers:
      - { value: "--human", correct: true }
      - { value: "--no-trunc", correct: false }
      - { value: "--format", correct: false }
      - { value: "--quiet", correct: false }
    help: https://docs.docker.com/engine/reference/commandline/history/

  - uuid: 85dd16f7-d749-4132-9359-30c61d9bcd45
    question: Quelle est la sortie typique de la commande 'docker history nginx' ?
    answers:
      - { value: "Une liste de tous les conteneurs utilisant l’image", correct: false }
      - { value: "L’arbre des dépendances réseau", correct: false }
      - { value: "Les couches de l’image avec leurs tailles et instructions", correct: true }
      - { value: "Le fichier Dockerfile complet", correct: false }
    help: https://docs.docker.com/engine/reference/commandline/history/

  - uuid: f5be1c84-0cb2-41ea-a37f-6d36e460c5d5
    question: Quelle commande JSON pourrait-on utiliser pour extraire les IDs des couches d’une image ?
    answers:
      - { value: "docker inspect --format='{{json .RootFS.Layers}}' nginx", correct: true }
      - { value: "docker history --format='{{.ID}}' nginx", correct: false }
      - { value: "docker image ls --format='{{.Layers}}' nginx", correct: false }
      - { value: "docker image layers --json nginx", correct: false }
    help: https://docs.docker.com/engine/reference/commandline/inspect/

  - uuid: 4c92d4dc-9c2f-4081-a324-32a43a7f1ff9
    question: À quoi sert la commande 'docker history' dans le cadre d’une investigation de sécurité ?
    answers:
      - { value: "À connaître la consommation mémoire en cours du conteneur", correct: false }
      - { value: "À détecter les instructions suspectes dans les couches de l’image", correct: true }
      - { value: "À changer les permissions sur les volumes", correct: false }
      - { value: "À voir les logs du conteneur", correct: false }
    help: https://docs.docker.com/engine/reference/commandline/history/

  - uuid: b3c3aabe-6844-4c0e-9015-35486d00d93f
    question: Quel champ retourné par 'docker history' permet d’identifier l'instruction Dockerfile associée à une couche ?
    answers:
      - { value: "CREATED BY", correct: true }
      - { value: "SIZE", correct: false }
      - { value: "IMAGE", correct: false }
      - { value: "CONTAINER", correct: false }
    help: https://docs.docker.com/engine/reference/commandline/history/

  - uuid: c8ec2e1a-88bb-4f5f-a8c1-c3e978eb84da
    question: Pourquoi certaines lignes de 'docker history' ont-elles la colonne SIZE à 0B ?
    answers:
      - { value: "La couche n’a pas été construite", correct: false }
      - { value: "L’image n’a pas été poussée vers un registre", correct: false }
      - { value: "L’instruction associée ne modifie pas le système de fichiers", correct: true }
      - { value: "La commande a échoué", correct: false }
    help: https://docs.docker.com/engine/reference/commandline/history/

  - uuid: 1b82ad23-5f91-4e9d-9189-f503b1a2e156
    question: Quelle est la meilleure façon de visualiser les couches d'une image avec les commandes exactes utilisées pour les générer ?
    answers:
      - { value: "docker diff", correct: false }
      - { value: "docker image inspect", correct: false }
      - { value: "docker history --no-trunc nginx", correct: true }
      - { value: "docker ps -a", correct: false }
    help: https://docs.docker.com/engine/reference/commandline/history/

  - uuid: cdc2fd95-fb2b-4b6c-8352-b453327cf98e
    question: Quel est le principal intérêt d'analyser les couches d'une image Docker ?
    answers:
      - { value: "Pour relancer l'image avec un autre UID", correct: false }
      - { value: "Pour comprendre comment l'image a été construite et optimiser sa taille", correct: true }
      - { value: "Pour forcer la mise à jour des registres privés", correct: false }
      - { value: "Pour créer une nouvelle interface réseau", correct: false }
    help: https://docs.docker.com/engine/reference/commandline/history/

  - uuid: 5bb4ad26-91f1-497a-b930-ec38f74aa244
    question: Quel comportement est observé si vous exécutez 'docker history' sur une image intermédiaire ?
    answers:
      - { value: "Elle renvoie une erreur", correct: false }
      - { value: "Elle affiche uniquement la couche finale", correct: false }
      - { value: "Elle affiche toutes les couches jusqu'à cette image intermédiaire", correct: true }
      - { value: "Elle liste les conteneurs en cours", correct: false }
    help: https://docs.docker.com/engine/reference/commandline/history/
